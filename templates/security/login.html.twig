{% extends 'base.html.twig' %}

{% block title %}Log in!
{% endblock %}

{% block body %}
	<main class="main_login">
		<div class="container_login">

			<div class="img_login">
				<p>Si vous n'avez pas encore de compte : <a href="{{ path('app_register') }}">inscrivez-vous !</a></p>
				<img src="{{ asset('images/login/login.png') }}" alt="Photo {{playmo}} policier">
			</div>

			<div class="form_login">
				<form method="post">
					{% if error %}
						<div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
					{% endif %}

					{% if app.user %}
						<div class="mb-3">
                            <p>Vous êtes connecté en tant que {{ app.user.userIdentifier }},<a href="{{ path('app_logout') }}">Se déconnecter</a></p>
						</div>
					{% endif %}

					<h2>Compte {{name_site}}</h2>
					<h3 class="h3 mb-3 font-weight-normal">Connexion :</h3>

					<div class="inter_form">
						<label for="inputEmail">Email</label>
						<input type="email" value="{{ last_username }}" name="email" id="inputEmail" class="form-control" autocomplete="email" required autofocus>

		
						<label for="inputPassword">Mot de passe</label>

						<div class="attach_input">
							<input type="password" name="password" id="inputPassword" class="form-control" autocomplete="current-password" required>
													
							<i id="eye_on" class="fas fa-eye" title="Afficher le mot de passe" onclick="eyeClick()"></i>
							<i id="eye_off" class="fas fa-eye-slash eye_display" title="Masquer le mot de passe" onclick="eyeOffClick()"></i>
						</div>
						
					
					

						<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

						<button class="btn_play" type="submit">S'identifier</button>
					</div>
				</form>

				{# ~Link forgot password user~ #}
				<div class="forgot">
					<a href="{{ path('app_forgot_password_request') }}">Mot de passe oublié</a>
				</div>
			</div>
		</div>
	</main>


	{#
	        Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
	        See https://symfony.com/doc/current/security/remember_me.html
	
	        <div class="checkbox mb-3">
	            <label>
	                <input type="checkbox" name="_remember_me"> Remember me
	            </label>
	        </div>
	    #}


<script>
/* ~Eye Password login~ */
const eye = document.getElementById("eye_on");
const eyeoff = document.getElementById("eye_off");
const passwordField = document.getElementById("inputPassword");

function eyeClick(){
	eye.classList.add('eye_display');
	eyeoff.classList.remove('eye_display');
	passwordField.type="text";
}

function eyeOffClick(){
	eye.classList.remove('eye_display');
	eyeoff.classList.add('eye_display');
	passwordField.type="password";
}
</script>


{% endblock %}
{# 
{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('eye') }}
{% endblock %}    #}